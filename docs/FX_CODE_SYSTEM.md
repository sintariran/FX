# FX取引システム コード体系仕様書

## 📋 概要

FX取引システムで使用される3桁コードの体系的な説明書です。各指標やシグナルは3桁の数字コードで表現され、それぞれの桁が特定の意味を持ちます。

## 🔢 コード構造

コードは3桁の数字で構成されます：**XYZ**

### 1桁目（X）：時間足
- **1** = 1分足（M1）
- **2** = 5分足（M5）
- **3** = 15分足（M15）
- **4** = 30分足（M30）
- **5** = 1時間足（H1）
- **6** = 4時間足（H4）
- **7** = 日足（D1）

### 2桁目（Y）：期間（TSML）
- **0** = T（Tiny：極短期）
- **1** = S（Short：短期）
- **2** = M（Middle：中期）
- **3** = L（Long：長期）
- **9** = 共通（期間区分なし）

### 3桁目（Z）：通貨
- **1** = JPY（日本円）
- **2** = USD（米ドル）
- **3** = EUR（ユーロ）

## 📊 コード例と解釈

### 例1：391短近平均的転換
- **3** = 15分足
- **9** = 共通（位相なし）
- **1** = JPY
- **解釈**：15分足JPYの短期・近期平均の転換

### 例2：191Mac全相関
- **1** = 1分足
- **9** = 共通（位相なし）
- **1** = JPY
- **解釈**：1分足JPYのMAC（移動平均収束）全相関

### 例3：501Os系
- **5** = 1時間足
- **0** = T（Tiny：極短期）
- **1** = JPY
- **解釈**：1時間足JPYの極短期オペレーション値

### 例4：511Os系
- **5** = 1時間足
- **1** = S（Short：短期）
- **1** = JPY
- **解釈**：1時間足JPYの短期オペレーション値

### 例5：191WPR系
- **1** = 1分足
- **9** = 共通（位相なし）
- **1** = JPY
- **解釈**：1分足JPYのWilliams %R指標

### 例6：331週間平均系
- **3** = 15分足
- **3** = L（Long：長期）
- **1** = JPY
- **解釈**：15分足JPYの長期週間平均

## 🎯 使用例

取引設定ファイル（trade_setting.csv）では、これらのコードを使用して取引条件を定義しています：

```
391短近平均的転換なし
191Mac全相関待機確定
501Os系
191WPR系
331週間平均系
```

## 📝 注意事項

- 期間（TSML）は分析対象の時間的スパンを表します（Tiny/Short/Middle/Long）
- 共通（9）は期間区分を考慮しない全体的な指標を示します
- 通貨コードは拡張可能で、他の通貨ペアにも対応できる設計です

---

最終更新日：2025年1月4日