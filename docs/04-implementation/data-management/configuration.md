# 設定ファイル管理

## 📋 概要

設定ファイル管理システムは、各種パラメータと設定情報を統一フォーマットで管理し、システム全体の一貫性を保ちます。PKG番号からルート番号への移行など、フォーマット変更にも柔軟に対応します。

## 🔄 フォーマット変更対応

### 価格OS係数シート

#### D列 ✅
- **変更前フォーマット**: PKG番号^ステート|PKG番号^ステート
- **変更後フォーマット**: ルート番号|ルート番号

#### E列 ✅
- **変更なし**

### レンジ幅

#### A列 ✅
- **変更前フォーマット**: PKG番号
- **変更後フォーマット**: ルート番号/ルート番号

### OS差分組み合わせ

#### F列 ✅
- **変更前フォーマット**: PKG番号
- **変更後フォーマット**: ルート番号/ルート番号

### 予知対象指標

#### D列 ✅
- **変更前フォーマット**: ターゲット^PKG番号
- **変更後フォーマット**: ターゲット

### FM表示用

#### G列 ✅
- **変更前フォーマット**: タイプPKG番号
- **変更後フォーマット**: ルート番号/ルート番号

### FM監視用

#### G列 ✅
- **変更前フォーマット**: タイプPKG番号
- **変更後フォーマット**: ルート番号/ルート番号

## 🔧 設定ファイル出力修正

### MT（MetaTrader）
**リアルのEAでパッケージタイプ追加、対象パッケージを参照しないように見直し（もみ統合）**

### 各種設定の修正内容

#### NL（Natural Language）
- **条件欄に抵抗線を記載するか参照先のrange_settingから素材を引っ張る**

#### TP（Take Profit）
- **range_setting参照**

#### OB（Order Book）
- **手動パッケージのため、使用先を参照**

#### PA（Price Action）
- **素材に今足、前足の素材パッケージを記載する（対応済み）**

#### PO（Position）
- **対応済み**

## 📊 フォーマット統一の利点

### 管理効率の向上
1. **一貫性のあるデータ構造**
2. **メンテナンスの簡易化**
3. **エラーの削減**

### 拡張性の確保
1. **新機能の追加が容易**
2. **既存システムへの影響最小化**
3. **段階的な移行が可能**

## 💻 実装上の考慮点

### データ移行
1. **旧フォーマットからの自動変換**
2. **バックアップの確保**
3. **検証プロセスの実施**

### 互換性の維持
1. **過渡期の両フォーマット対応**
2. **段階的な切り替え**
3. **ロールバック機能**

## 🎯 設定管理のベストプラクティス

### バージョン管理
1. **設定ファイルのバージョニング**
2. **変更履歴の記録**
3. **差分管理**

### 検証プロセス
1. **フォーマットチェック**
2. **値の妥当性検証**
3. **依存関係の確認**

### ドキュメント化
1. **フォーマット仕様書**
2. **変更手順書**
3. **トラブルシューティングガイド**

## 🔍 今後の改善項目

### 自動化の推進
1. **設定ファイル生成の自動化**
2. **検証プロセスの自動化**
3. **デプロイメントの自動化**

### 監視機能の強化
1. **設定変更の監視**
2. **異常値の検出**
3. **アラート機能**

### ユーザビリティ向上
1. **GUI設定ツール**
2. **テンプレート機能**
3. **設定のインポート/エクスポート**

---

## 📅 出典
- **ファイル**: 20190929_設定ファイルフォーマット変更箇所への対応.txt（2019年9月29日）
- **ファイル**: 20200803_設定ファイル出力修正対象.txt（2020年8月3日）
- **カテゴリ**: システム実装・データ管理