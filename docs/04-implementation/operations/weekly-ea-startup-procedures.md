# 週初に行うEAの起動手続き

FXシステムの週次起動手順（取得データ/週初に行うEAの起動手続きについて.xlsxより）

## 事前説明

### サーバー情報

**グループ1**
- サーバー1: 59.106.223.138
- サーバー2: 163.45.195.214
- サーバー3: 163.45.195.11

**グループ2**
- サーバー1: 163.43.114.239
- サーバー2: 163.43.108.189
- サーバー3: 59.106.221.39

- ログイン名義: 春山名義
- 作業日時: 相場が終わってから次の相場が始まる直前までに行う

## 1. ログファイルの削除

1. 相場が終わってから次の週の頭までに行う
2. 3つのサーバーのc:\直下に入る
3. deletelogの実行ファイルを起動する
4. 空き容量が20GB以上であることを確認する
5. 足りなければ、報告すること

## 2. Windows Updateの実行

1. スタートアップ内の左側にあるハグルママークをクリックする
2. 更新とセキュリティを選択する
3. 更新状態をクリックして、最新状態にする
4. 再起動

## 3. 個別のEAの起動

### FXPRO

1. デスクトップ内右上のFXPROを起動
2. 時間足が1Mから1Dまで6個あることを確認する
3. 6個の時間足のEAを停止する
   - 画面内で右クリック→エキスパーアドバイザ→削除
4. 6個の時間足のEAを開始する
   - 1D→4H→1H→・・・→1Mと大きい順に行うこと
   - 画面左下ナビゲーター中の「Indicator_Output_NESLMA_real00」をクリックする
   - 読込をクリック。「operation2_L_XXXXXXv3.set」を選択(XXXXXXには通貨ペアが入る)
   - 2行目の「指定時間番号」だけ指定をする
   - 各時間足の番号: 1D→6, 4H→5, 1H→4, 30M→3, 15M→2, 5M→1, 1M→0
   - FXPROは閉じないこと
5. デスクトップ内FXPROのショートカットの左にあるフォルダを開く
6. フォルダ内downloadを開く
7. realtime_nesl_value1～7の更新日時が現在時刻(かその数分前)になっていることを確認する

### OANDA・FXTF

8. デスクトップ内右上のOANDAを起動（以降やる内容はFXPROと同じ）
9. デスクトップ内右上のFXTFを起動（以降やる内容はFXPROと同じ）
10. 1から9を3サーバーすべて行う

## 4. 2種類のスクリプトの起動

### 共通手順

1. タスクマネージャーを開く（ctrl+shift+esc）
2. タスクマネージャーでMicrosoft®Windows based～というプログラム(赤青緑の箱みたいなアイコン)が9個起動していることを確認する
   - 初回動作の時は起動無し。以下のkillの手続きがいらない

### VBS_Scode / bat_set

3. 適当なフォルダを開き、「VBS_Scode」というフォルダを開く（138だけは「bat_set」というフォルダを開く）
   - スクリプトが4つあるうち、末尾がkillのものを実行する
   - 2で確認した9個プログラムのうち、3つ終了したことを確認する
4. 「VBS_Scode」フォルダ(「bat_set」フォルダ)内の末尾が通貨ペアのものを順次実行する
   - 3で確認した起動しているプログラムが6つから9つに変わったことを確認する

### CalcUpDown

5. 適当なフォルダを開き、「CalcUpDown」というフォルダを開く
   - スクリプトが4つあるうち、末尾がkillのものを実行する
   - 4で確認した9個プログラムのうち、3つ終了したことを確認する
6. 「CalcUpDown」フォルダ内の末尾が通貨ペアのものを順次実行する
   - 5で確認した起動しているプログラムが6つから9つに変わったことを確認する

### CheckUpDate

7. 適当なフォルダを開き、「CheckUpDate」というフォルダを開く
   - スクリプトが4つあるうち、末尾がkillのものを実行する
   - 6で確認した9個プログラムのうち、3つ終了したことを確認する
8. 「CheckUpDate」フォルダ内の末尾が通貨ペアのものを順次実行する
   - 7で確認した起動しているプログラムが6つから9つに変わったことを確認する
9. 1から6を3サーバーすべて行う

## 5. XMTradingの同時起動

### 初期起動

1. デスクトップ下のショートカットアイコンの内、FXTFの右隣のXMTradingを起動する
   - 3サーバーすべて時間を空けずに行う
   - 時刻が00秒に変わった瞬間に行うとよい
2. 214サーバーのXMTradingのエキスパートタブを開く
3. 「時間足～合致」もしくは「時間足～不合致」という言葉を探す
4. 合致の場合→完了
   - 不合致の場合は3サーバーすべてのXMTradingを閉じて、上記1からやり直す

### EA設定

1. デスクトップ下のショートカットアイコンの内、FXTFの右隣のXMTradingを起動する
2. チャート画面上を右クリックする
3. エキスパートアドバイザにカーソルを当てる
4. 削除をクリック
5. 画面左のナビゲータ画面の内、「Make operationSignalv21-63」をダブルクリックする
6. 読込をクリック
7. 更新日付の一番新しいもののファイル末尾がOMGHであることを確認する
8. 7で確認したファイルを開く
9. パラメータ画面のスクロールバーを半分目ぐらいのところに移動する
10. 引継ぎデータ日が先週の金曜日であることを確認（時刻は00：00のままでよい）
11. その真上の欄、取引関連稼働時引継ぎ有無が「true」であることを確認する
12. XMTRをいったん閉じる
13. XMTRを再度起動する
14. 1～13を3サーバーで行う
15. しばらく時間を置く(5分以内)
16. エキスパートタブを開く
17. calc layer firstという文字が出ていることを確認する
18. 15～17を3サーバーで行う

## 注意事項

- すべての作業は3つのサーバーで実施する
- スクリプトの起動順序を守る（killしてから通貨ペアのものを実行）
- プログラムの起動数を確認する（6個→9個への変化）
- XMTradingの時間足合致確認は必須