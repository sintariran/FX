# プロジェクトタスク・作業メモ

## 📋 概要

プロジェクトの今後の作業内容、改善タスク、集計結果の修正などをまとめた資料です。実装の優先順位と具体的な改善内容が含まれます。

## 📊 集計値の修正報告（2021年2月20日）

### 連絡内容
```
運天さん

お忙しい折に、失礼致します。

全時間同逆による分類分けの関数に誤りがありました。
申し訳ございません。
修正後の集計結果は下記の通りになります。

●母数
（詳細データは元ファイル参照）
```

### 重要事項
- **全時間同逆による分類分けの関数に誤り**があった
- 修正後の集計結果を報告

## 🎯 今後のやるべきこと（2021年3月22日）

### ヘッジのエントリーの緩和
**15Mの帰状態でのヘッジエントリー**
- より柔軟なヘッジエントリー条件の実装

### ヘッジの決済の緩和
**どこからエントリーしたかによって、ヘッジの決済のタイミングを変える**

#### 基本方針
- 伸びきっていないなら、決済する様にする

#### 実装詳細
**最初のエントリー価格と更新していくヘッジ価格に対する決済のルールを分ける**

1. **元々のエントリー価格に戻ってきた場合**
   - 15Mの条件でヘッジ決済

2. **更新後の価格の場合**
   - 各時間足としての決済ルールで決済する

## 💡 実装の優先順位

### 高優先度
1. **ヘッジエントリー条件の緩和**
   - リスク管理の改善
   - エントリー機会の増加

2. **ヘッジ決済ロジックの改善**
   - 価格別の決済ルール
   - 柔軟な対応

### 中優先度
1. **集計関数の修正確認**
2. **バックテストによる検証**
3. **パフォーマンスの最適化**

### 低優先度
1. **ドキュメントの更新**
2. **コードのリファクタリング**
3. **テストケースの追加**

## 🔧 技術的な考慮事項

### ヘッジ管理の複雑性
1. **エントリー価格の追跡**
   - 初期エントリー価格の保持
   - 更新価格の管理

2. **時間軸別の決済ルール**
   - 15M条件
   - 各時間足の条件

3. **状態管理**
   - ヘッジ状態の追跡
   - 決済条件の判定

### テスト方針
1. **単体テスト**
   - 各決済ルールの動作確認
   - エッジケースの処理

2. **統合テスト**
   - 複数条件の組み合わせ
   - 実際の取引シナリオ

3. **バックテスト**
   - 過去データでの検証
   - パフォーマンス評価

## 📈 期待される効果

### リスク管理の改善
1. **より適切なヘッジタイミング**
2. **柔軟な決済戦略**
3. **損失の最小化**

### 収益性の向上
1. **エントリー機会の増加**
2. **決済タイミングの最適化**
3. **トレンドへの追随性向上**

## 🎯 実装スケジュール

### フェーズ1（即時対応）
- ヘッジエントリー条件の実装
- 基本的な決済ルールの実装

### フェーズ2（短期）
- 詳細な決済ロジックの実装
- テストとデバッグ

### フェーズ3（中期）
- 本番環境での検証
- パフォーマンス調整

## 📊 成功指標

### 定量的指標
1. **ヘッジ成功率の向上**
2. **平均損失の減少**
3. **全体収益率の改善**

### 定性的指標
1. **システムの安定性**
2. **操作の簡便性**
3. **メンテナンス性**

---

## 📅 出典
- **ファイル**: 20210220_集計値.txt（2021年2月20日）
- **ファイル**: 20210322_やること.txt（2021年3月22日）
- **カテゴリ**: その他・雑記